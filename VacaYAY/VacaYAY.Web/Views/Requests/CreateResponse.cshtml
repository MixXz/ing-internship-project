@using VacaYAY.Data.DataTransferObjects;
@using VacaYAY.Data.Entities;
@model ResponseCreate
@{
    ViewData["Title"] = "Create response";
    Layout = "~/Views/Shared/_Layout.cshtml";

    Request req = ViewBag.Request;
}

<div class="container-sm w-25">
    <h2>Response</h2>
    <h4>Respond to vacation request</h4>
    <hr />
    <dl>
        <dt>Date range</dt>
        <dd>@req.StartDate.ToString("dd.MM.yyyy") - @req.EndDate.ToString("dd.MM.yyyy")</dd>
        <dt>Requested by</dt>
        <dd>@req.CreatedBy.Name</dd>
        <dt>Comment</dt>
        <dd>@(string.IsNullOrEmpty(req.Comment) ? "No comment to show." : req.Comment)</dd>
    </dl>
    <hr />
    <form asp-action="CreateResponse">
        <div class="form-floating mb-3">
            @Html.DropDownListFor(model => model.LeaveType.ID,
            new SelectList(ViewBag.LeaveTypes, nameof(LeaveType.ID),
            nameof(LeaveType.Caption), Model.LeaveType.ID),
            new { @class = "form-control" })
            @Html.ValidationMessageFor(x => x.LeaveType)
            <label asp-for="LeaveType.ID" class="control-label"> Leave type </label>
        </div>
        <div>
            @Html.RadioButtonFor(m => m.IsApproved, true) Approve
        </div>
        <div class="mb-3">
            @Html.RadioButtonFor(m => m.IsApproved, false) Reject
        </div>
        <div class="form-group">
            <label asp-for="Comment" class="control-label"></label>
            <textarea asp-for="Comment" class="form-control" rows="4"></textarea>
            <span asp-validation-for="Comment" class="text-danger"></span>
        </div>
        <button type="submit" class="btn btn-primary btn-block w-100 mt-3">Respond to request</button>
    </form>
</div>
